# The Story of a Tree
原题见[这里](https://www.hackerrank.com/challenges/the-story-of-a-tree/problem)

对于一个无环连通图，每条边的父子方向是由根节点决定的。

现在给定了图G，Alice做了g个猜测，每个猜测的内容都是对于某条边，猜测其连接的两个节点，某一个u是另一个v的父节点。

图G一共有n个节点，n-1条边，对于某个节点为根的情况，如果Alice的g个猜测中对了k个及以上，则其胜利。

现在要求计算，对于所有节点作为根的情况，Alice胜利的比率是多少。

# 分析
我的第一反应就是穷举，把所有节点当根节点时，Alice猜中的次数计算出来。

然而，没有必要真·穷举无双，每次都从头开始计算，可以进行优化迭代。

假设现在的根节点是a，已经计算出猜中次数，下一步，要计算与a直接相连的节点b作为根节点时的猜中次数。

可以看出，相对于根节点是a的情况，只有a的父节点变成了b，而b没有了父节点。也就是，只会影响猜测中对于a和b谁是父节点的猜测。这个在纸上比划一下可以发现，但严格的证明我有点不知道应该怎么写:(

所以最后的处理就是
1. 计算以1号节点作为根时的猜中次数。
2. 沿着边遍历，计算与当前根节点相邻的节点作为新的根节点时的猜中次数。
3. 将胜利比率按照指定的要求输出。

在这里有两点要注意的：
* Alice的猜测，对于某两个节点a,b，并不是唯一的，也就是说，可以有多条猜测是猜a是b的父节点，同时有多条猜测猜b是a的父节点。
* 默认给的代码模板里有点问题，处理猜测输入的循环变量不对。（我用的是PHP，其他语言不知道有没有这个问题）

具体代码见[solve.php](./solve.php)