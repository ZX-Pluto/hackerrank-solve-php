# Permutation game
原题见[这里](https://www.hackerrank.com/challenges/permutation-game/problem)

Alice和Bob玩如下游戏：
1. 选择一个由数字1到n组成的排列。
2. Alice先操作，交替进行。
3. 每一轮，可以从当前排列中选择1个数字，将其移除掉。
4. 如果当前排列构成了一个单调递增的序列，则游戏结束。最后一位操作者（移除1个数字后使原本非单调递增的序列变成单调递增）获胜。

假设两个人都足够聪明，每轮都选择最优策略，问，对于给定的排列，谁会是胜利者。

# 分析
这又是Sprague-Grundy theorem了，我发现这里面好多游戏理论类的题目都是用Grundy。还有什么其他比较著名的游戏理论么？

关于此理论，之前解某题时有讲过，见[这里](../Stones-Game)

那么对于当前剩余排列，Nimber值要怎么计算呢，就按照Nimber的定义递推好了：
* 排列i已经是单调递增，则Nimber[i] = 0。
* 否则， 计算出从i中移除1个数字后形成的每个排列j的Nimber值集合S，Nimber[i] = Mex(S)。 这个Mex，上面的其他题目讲解中有，意思是最小的未在集合中出现的自然数。

由于n最大只有15，而且排列中数字不会重复，因此用bit位储存当前已移除掉的数字用来表示排列即可。
  
具体代码见[solve.php](./solve.php)